{% extends 'base.html' %} {% block content %}

<h1>Log In</h1>

<form method="POST" action="{{url_for('users.login')}}">
  {{ form.hidden_tag() }}
  <!-- this line means "push out all hidden fields, which includes CSRF" -->
  {{ form.csrf_token }}
  <p>{{ form.username(placeholder="Username") }}
    <span>
      {% if form.username.errors %} {% for error in form.username.errors %} {{ error }} {% endfor %} {% endif %}
    </span>
  </p>
  <p>
    {{ form.password(placeholder="Password") }}
    <span>
      {% if form.password.errors %} {% for error in form.password.errors %} {{ error }} {% endfor %} {% endif %}
    </span>
  </p>

  {% if error == "password_incorrect" %}
    <p>
      Password incorrect
    </p>
  {% endif %}

  {% if error == "username_incorrect" %}
    <p>
      Username incorrect
    </p>
  {% endif %}

  <button type="submit">Log In!</button>
</form>

  <button>
    <a href="{{url_for('users.index')}}">Home</a>
  </button>

{% endblock %}
