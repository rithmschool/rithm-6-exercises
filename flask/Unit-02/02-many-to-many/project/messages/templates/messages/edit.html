{% extends 'base.html' %}

{% block title %}
    update message
 {% endblock %}

 {% block content %}
    <h2>update your message</h2>
    <form action="{{url_for('messages.show', id = id, message_id = message.id)}}?_method=PATCH" method="POST">
        {{ message_form.hidden_tag() }}

        <div class="form-group">
                {{ message_form.content.label }}
                
                {{ message_form.content (class_="form-control") }}
                
                {% if message_form.content.errors %}
                    {% for error in message_form.content.errors %}
                        <small class="form-text text-danger">{{ error }}</small>
                    {% endfor %}
                {% endif %}
                {% if not message_form.content.errors %}
                <small class="form-text text-muted">You can post a maximum 164 character message</small>
                {% endif %}
                    
                {{ message_form.tags (class_="tag_list") }}
                
        </div>
        
        <button type="submit" class="btn btn-secondary btn-lg btn-block">Submit changes!</button>
    </form>
    <div class="text-right my-2">
        <form action="{{url_for('messages.show', id = id, message_id = message.id)}}?_method=DELETE" method="POST" class="form-group">
            {{ delete_form.hidden_tag() }}
            <button type="submit" class="btn btn-secondary btn-lg">
                    delete message
            </button>        
        </form>
    </div>
  {% endblock %}