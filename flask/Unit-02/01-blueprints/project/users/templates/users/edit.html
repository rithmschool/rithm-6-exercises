{% extends 'base.html' %}

{% block title %}
Edit User!
{% endblock %}


{% block content %}
<h1>Edit this user's info: {{ user.first_name }} {{ user.last_name }}</h1>
<form action="{{url_for('users.show', id=user.id)}}?_method=PATCH" method="POST">
    {{ form.hidden_tag() }}
    {% for field in form if field.widget.input_type != 'hidden' %}
    <div>
      {{ field.label }} {{ field }}
      <span>
        {% if field.errors %}
          {% for error in field.errors %}
            {{ error }}
          {% endfor %}
        {% endif %}
      </span>
    </div>
    {% endfor %}
  <button type="submit">Submit Edit!</button>
</form>
<h1>...or delete!</h1>
<form action="{{url_for('users.show', id=user.id)}}?_method=DELETE" method=POST>
  {{ delete_form.hidden_tag() }}
  <button type="submit">X</button>
</form>
<h1>Return back to users <a href="{{url_for('users.index')}}">here</a></h1>
{% endblock %}
