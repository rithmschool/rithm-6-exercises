{% extends 'base.html' %}

{% block content %}

<section>
  <h1>Here Are All of {{user.first_name}}'s Messages</h1>
  <div>
    <a href="{{url_for('message_new', user_id=messages.user_id)}}">Add a New Message!</a>
  </div>
    <table>
      <thead>
        <tr>
          <th>User's Name</th>
          <th>Message ID</th>
          <th>Edit</th>
          <th>View Message in Full</th>
        </tr>
      </thead>
      <tbody>
        {% for message in user.messages %}
        <tr>
            <td>{{ user.first_name }} {{ user.last_name }}</td>
            <td>{{ message.id }}</td>
            <td><a href="{{url_for('message_edit', user_id=user.id, id=message.id)}}"><i class="fas fa-edit"></i></a></td>
            <td><a href="{{url_for('message_show', user_id=user.id, id=message.id)}}"><i class="fas fa-envelope"></i></a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
</section>
{% endblock %}
